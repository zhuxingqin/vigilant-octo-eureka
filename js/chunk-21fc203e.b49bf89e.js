(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21fc203e","chunk-2d0bdba6"],{"0471":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("d2-container",{staticClass:"page",attrs:{type:"card"}},[a("el-form",{ref:"form",staticClass:"page--form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"地址"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("修改")])],1)],1)],1)},n=[],s=(a("b0c0"),a("5530")),o=(a("96cf"),a("1da1")),c=a("5880"),i=a("2cdc"),u={mixins:[i["default"]],beforeRouteEnter:function(e,t,a){var r=e.params.id;r&&a(function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(n){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("demo-business-issues-142"!==t.name){a.next=6;break}return a.next=3,n.getFormData(r);case 3:n.saveDataToDb(),a.next=7;break;case 6:n.loadDataFromDb(e);case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},beforeRouteUpdate:function(e,t,a){var r=e.params.id;r&&(this.loadDataFromDb(e),a())},watch:{form:{handler:function(){this.saveDataToDb()},deep:!0}},methods:Object(s["a"])(Object(s["a"])({},Object(c["mapActions"])("d2admin/db",["pageSet","pageGet"])),{},{saveDataToDb:function(){this.pageSet({instance:this,user:!0})},loadDataFromDb:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r={$route:{fullPath:e.fullPath},$data:{}},a.next=3,t.pageGet({instance:r,user:!0});case 3:for(s in n=a.sent,n)t[s]=n[s];t.$message.success("loadDataFromDb");case 6:case"end":return a.stop()}}),a)})))()}})},m=u,f=(a("1826"),a("2877")),d=function(e){e.options.__source="src/views/demo/business/issues/142/edit-cache-db.vue"},l=d,p=Object(f["a"])(m,r,n,!1,null,null,null);"function"===typeof l&&l(p);t["default"]=p.exports},1826:function(e,t,a){"use strict";var r=a("4fc6"),n=a.n(r);n.a},"2cdc":function(e,t,a){"use strict";a.r(t);a("b0c0"),a("96cf");var r=a("1da1");t["default"]={props:{id:{type:String,required:!0}},data:function(){return{form:{name:"",address:""}}},methods:{resetFormData:function(){this.form={name:"",address:""}},getFormData:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var r,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.resetFormData(),a.prev=1,a.next=4,t.$api.DEMO_BUSINESS_ISSUE_142_DETAIL(e);case 4:r=a.sent,n=r.name,s=r.address,t.form={name:n,address:s},t.$message.success("getFormData"),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](1),console.log("error",a.t0);case 13:case"end":return a.stop()}}),a,null,[[1,10]])})))()},handleSubmit:function(){this.$notify({title:"Submit",message:"提交了表单",type:"info"})}}}},"4fc6":function(e,t,a){}}]);